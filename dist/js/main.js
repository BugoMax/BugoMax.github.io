jQuery(document).ready(function(a){function e(c){var d=g();b.offset().top>a(window).scrollTop()&&"mobile"!=d?a("body,html").animate({scrollTop:b.offset().top},100,function(){f(c,!0)}):b.offset().top+b.height()<a(window).scrollTop()+a(window).height()&&"mobile"!=d?a("body,html").animate({scrollTop:b.offset().top+b.height()-a(window).height()},100,function(){f(c,!0)}):f(c,!0)}function f(b,e){if(e){var f=c.find(".cd-fold-content");f.load(b+" .cd-fold-content > *",function(b){setTimeout(function(){a("body").addClass("overflow-hidden"),c.addClass("is-open"),d.addClass("fold-is-open")},100)})}else{var h=g();c.removeClass("is-open"),d.removeClass("fold-is-open"),"mobile"==h||a(".no-csstransitions").length>0?a("body").removeClass("overflow-hidden"):d.find(".cd-item").eq(0).one("webkitTransitionEnd otransitionend oTransitionEnd msTransitionEnd transitionend",function(){a("body").removeClass("overflow-hidden"),d.find(".cd-item").eq(0).off("webkitTransitionEnd otransitionend oTransitionEnd msTransitionEnd transitionend")})}}function g(){return window.getComputedStyle(document.querySelector(".cd-main"),"::before").getPropertyValue("content").replace(/"/g,"").replace(/'/g,"")}var b=a(".cd-gallery"),c=a(".cd-folding-panel"),d=a(".cd-main");b.on("click","a",function(b){b.preventDefault(),e(a(this).attr("href"))}),c.on("click",".cd-close",function(a){a.preventDefault(),f("",!1)}),b.on("click",function(b){a(b.target).is(".cd-gallery")&&a(".fold-is-open").length>0&&f("",!1)})});